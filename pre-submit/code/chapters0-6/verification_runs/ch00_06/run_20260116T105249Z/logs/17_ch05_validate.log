STEP 17/20: Ch05: Validation Script
CMD: /Volumes/Lexar2T/src/reinforcement_learning_search_from_scratch/.venv/bin/python3 scripts/validate_ch05.py
CWD: /Volumes/Lexar2T/src/reinforcement_learning_search_from_scratch
START: 2026-01-16T10:54:23Z

================================================================================
CHAPTER 5 VALIDATION: Relevance, Features, and Reward
================================================================================
================================================================================
VALIDATION 1: BASE RELEVANCE DECOMPOSITION
================================================================================
Semantic component: -0.017928
Lexical component:  0.000000
w_sem=0.700, w_lex=0.300
base_score(...) = -0.012550
Expected        = -0.012550
✓ base_score matches semantic + lexical decomposition (noise_sigma=0.0)

================================================================================
VALIDATION 2: FEATURES AND STANDARDIZATION
================================================================================
Feature dimension (len(compute_features(...))): 10
config.action.feature_dim:                     10
✓ Feature dimension matches config.action.feature_dim

Standardized feature means (first 5 dims): [ 0. -0. -0. -0. -0.]
Standardized feature stds  (first 5 dims): [1. 1. 1. 1. 1.]
✓ Standardized features have mean ≈ 0 and std ≈ 1 for non-constant dimensions

================================================================================
VALIDATION 3: REWARD AGGREGATION
================================================================================
GMV:    22.8290
CM2:    3.1575
STRAT:  0.0000
CLICKS: 3

compute_reward(...) = 24.392007
Expected            = 24.392007
✓ Reward equals α·GMV + β·CM2 + γ·STRAT + δ·CLICKS

================================================================================
ALL CHAPTER 5 VALIDATION CHECKS PASSED
================================================================================
